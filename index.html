<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GridPirat Terminal</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <!-- React CDN -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <!-- Babel CDN for JSX transpilation -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body class="bg-black">
  <div id="root"></div>

  <script type="text/babel">
    const { useState, useEffect, useCallback } = React;

    // --- From constants.ts ---
    const SECTIONS = [
      `> Initializing GridPirat Terminal...\n> Access Granted âœ…\n\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n[ About Me ]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nName: Muhammed Mabrouk\nField: Industrial Automation â†’ Cyber Security\nMission: Building secure systems âš™ï¸ðŸ›¡ï¸\n\nâ†“ Press Arrow Down or Swipe Up`,
      `> Opening skills.txt ...\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n[ Skills ]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n- Network Penetration Testing\n- Secure PLC Communication\n- Kali Linux | Python | Wireshark\n- GitHub Pages | Web Projects\n\nâ†‘â†“ Arrow Keys or Swipe Up/Down`,
      `> Accessing contact.dat ...\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\n[ Contact ]\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\nEmail: mabrouk@gridpirat.io\nGitHub: github.com/GridPirat\nLinkedIn: linkedin.com/in/mabrouk\n\nâ†‘ Press Arrow Up or Swipe Down`
    ];

    // --- From components/TerminalOutput.tsx ---
    const TerminalOutput = ({ textToType, typingSpeed = 12 }) => {
      const [displayText, setDisplayText] = useState('');
      const [isTyping, setIsTyping] = useState(true);

      useEffect(() => {
        let i = 0;
        setIsTyping(true);
        setDisplayText('');
        
        const type = () => {
          if (i < textToType.length) {
            setDisplayText(textToType.substring(0, i + 1));
            i++;
            setTimeout(type, typingSpeed);
          } else {
            setIsTyping(false);
          }
        };
        
        const timeoutId = setTimeout(type, 100);
        
        return () => clearTimeout(timeoutId);
      }, [textToType, typingSpeed]);

      return (
        <pre className="whitespace-pre-wrap break-words">
          {`${displayText}`}
          <span className={`inline-block w-2.5 h-6 bg-green-400 ml-1 align-bottom ${!isTyping ? 'animate-pulse' : ''}`}></span>
        </pre>
      );
    };

    // --- From App.tsx ---
    const App = () => {
      const [currentSectionIndex, setCurrentSectionIndex] = useState(0);
      const [touchStartY, setTouchStartY] = useState(null);

      const minSwipeDistance = 50;

      const handleKeyDown = useCallback((e) => {
        if (e.key === "ArrowDown") {
          setCurrentSectionIndex(prevIndex => (prevIndex + 1) % SECTIONS.length);
        } else if (e.key === "ArrowUp") {
          setCurrentSectionIndex(prevIndex => (prevIndex - 1 + SECTIONS.length) % SECTIONS.length);
        }
      }, []);

      const handleTouchStart = useCallback((e) => {
        setTouchStartY(e.touches[0].clientY);
      }, []);

      const handleTouchEnd = useCallback((e) => {
        if (touchStartY === null) {
          return;
        }

        const touchEndY = e.changedTouches[0].clientY;
        const distance = touchStartY - touchEndY;

        const isSwipeUp = distance > minSwipeDistance;
        const isSwipeDown = distance < -minSwipeDistance;

        if (isSwipeUp) {
          setCurrentSectionIndex(prevIndex => (prevIndex + 1) % SECTIONS.length);
        } else if (isSwipeDown) {
          setCurrentSectionIndex(prevIndex => (prevIndex - 1 + SECTIONS.length) % SECTIONS.length);
        }
        
        setTouchStartY(null);
      }, [touchStartY]);

      useEffect(() => {
        window.addEventListener("keydown", handleKeyDown);
        window.addEventListener("touchstart", handleTouchStart);
        window.addEventListener("touchend", handleTouchEnd);

        return () => {
          window.removeEventListener("keydown", handleKeyDown);
          window.removeEventListener("touchstart", handleTouchStart);
          window.removeEventListener("touchend", handleTouchEnd);
        };
      }, [handleKeyDown, handleTouchStart, handleTouchEnd]);

      return (
        <main className="min-h-screen bg-black text-green-400 font-mono flex items-center justify-center p-4 sm:p-6 md:p-8">
          <div className="w-full max-w-4xl bg-gray-900/70 border-2 border-green-700/50 rounded-lg shadow-2xl shadow-green-500/10 p-4 sm:p-6 md:p-8">
            <div className="flex items-center pb-4 border-b-2 border-green-700/30">
              <div className="flex space-x-2">
                <div className="w-3 h-3 rounded-full bg-red-500"></div>
                <div className="w-3 h-3 rounded-full bg-yellow-500"></div>
                <div className="w-3 h-3 rounded-full bg-green-500"></div>
              </div>
              <p className="ml-4 text-sm text-gray-400">bash -- GridPirat Terminal</p>
            </div>
            <div className="pt-4 mt-2 text-base sm:text-lg">
              <div className="flex items-center flex-wrap">
                <span className="text-cyan-400">user@gridpirat</span>
                <span className="text-gray-500">:</span>
                <span className="text-yellow-400">~</span>
                <span className="text-gray-500">$</span>
              </div>
              <div className="mt-4">
                <TerminalOutput key={currentSectionIndex} textToType={SECTIONS[currentSectionIndex]} />
              </div>
            </div>
          </div>
        </main>
      );
    };

    // --- From index.tsx ---
    const rootElement = document.getElementById('root');
    const root = ReactDOM.createRoot(rootElement);
    root.render(<App />);
  </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>